# Лабораторная работа 8: ООП в Python - @dataclass Student, методы и сериализация

## Цель работы
Изучить основы объектно-ориентированного программирования в Python, научиться описывать модели данных с помощью @dataclass, реализовывать методы и валидацию, сериализовывать/десериализовывать объекты.

## Структура класса Student

Класс `Student` реализован с использованием декоратора `@dataclass` и содержит следующие поля:

| Поле       | Тип   | Описание                |
|------------|-------|--------------------------|
| `fio`      | `str` | ФИО студента             |
| `birthdate`| `str` | Дата рождения в формате `YYYY-MM-DD` |
| `group`    | `str` | Группа студента          |
| `gpa`      | `float` | Средний балл (0-5)     |

## Методы класса Student

1. `age()` - вычисляет возраст студента в полных годах
2. `to_dict()` - сериализует объект студента в словарь
3. `from_dict()` - создает объект студента из словаря (classmethod)
4. `__str__()` - возвращает строковое представление студента

## Валидация

В методе `__post_init__` реализована валидация:
- Формат даты рождения должен быть `YYYY-MM-DD`
- Средний балл должен быть в диапазоне от 0 до 5

## Функции сериализации

### `students_to_json(students, path)`
Сохраняет список студентов в JSON-файл.

### `students_from_json(path) -> list[Student]`
Загружает список студентов из JSON-файла.

## Примеры использования

### Создание студента
```python
from models import Student

student = Student("Иванов Иван Иванович", "2000-05-15", "SE-01", 4.2)
print(student)  # Student: Иванов Иван Иванович, Group: SE-01, GPA: 4.2, Age: 23
print(f"Возраст: {student.age()}")  # Возраст: 23
```

### Примеры запуска функций

В файле `test_examples.py` находятся рабочие примеры использования функций `students_to_json` и `students_from_json`:

1. **students_to_json** - создание списка студентов и сохранение его в JSON-файл
2. **students_from_json** - загрузка списка студентов из JSON-файла
3. Комбинированный пример - загрузка, модификация и сохранение данных

Для запуска примеров выполните:
```bash
cd src/lab08
python3 test_examples.py
```

Примеры демонстрируют:
- Создание объектов Student с валидацией
- Сохранение данных в файлы JSON
- Загрузку данных из файлов JSON
- Работу с путями к файлам данных
- Обработку загруженных данных

## Примеры JSON

### Входной JSON (students_input.json)
```json
[
  {
    "fio": "Ivanov Ivan Ivanovich",
    "birthdate": "2000-05-15",
    "group": "SE-01",
    "gpa": 4.2
  },
  {
    "fio": "Petrova Maria Sergeevna",
    "birthdate": "1999-12-03",
    "group": "SE-02",
    "gpa": 3.8
  }
]
```

### Выходной JSON (students_output.json)
```json
[
  {
    "fio": "Ivanov Ivan Ivanovich",
    "birthdate": "2000-05-15",
    "group": "SE-01",
    "gpa": 4.2
  },
  {
    "fio": "Petrova Maria Sergeevna",
    "birthdate": "1999-12-03",
    "group": "SE-02",
    "gpa": 3.8
  }
]
```

## Скриншоты работы

### Результат работы функции сериализации
![Сериализация студентов](../../images/lab08/serialize.png)

### Результат работы тестовых примеров
![Тестовые примеры](../../images/lab08/test_examples.png)

## Тестирование

Для проверки корректности реализации были проведены следующие тесты:

1. Создание объектов Student с корректными и некорректными данными
2. Проверка валидации формата даты и диапазона GPA
3. Тестирование метода вычисления возраста
4. Проверка сериализации/десериализации
5. Работа с файлами JSON

Все тесты прошли успешно, что подтверждает корректность реализации.