# Лабораторная работа №1. Разработка программ циклической структуры

**Выполнил:** Кирюшин Алексей

**Группа:** БИВТ-25-1

**Дата:** 15 февраля 2026

**Платформа:** .NET 6.0, C# 10

---

## Содержание

1. [Введение](#введение)
2. [Теоретическая часть](#теоретическая-часть)
3. [Практическая часть](#практическая-часть)
   - [Уровень I: Базовые циклы](#уровень-i-базовые-циклы)
   - [Уровень II: Циклы по условию](#уровень-ii-циклы-по-условию)
   - [Уровень III: Вложенные циклы](#уровень-iii-вложенные-циклы)
4. [Контрольные вопросы](#контрольные-вопросы)
5. [Выводы](#выводы)

---

## Введение

### Цель работы

Освоение базовых принципов программирования циклических алгоритмов на языке C#, изучение различных видов циклов и их применения для решения вычислительных задач.

### Задачи

1. Изучить основные операторы циклов в C#: `for`, `while`, `do-while`
2. Реализовать типовые алгоритмы работы с циклами
3. Освоить технику вычисления сумм и произведений
4. Изучить методы работы с рядами и их сходимостью
5. Научиться табулировать функции
6. Освоить вложенные циклы

### Используемые технологии

- **Язык программирования:** C# 10
- **Платформа:** .NET 6.0
- **Среда разработки:** Visual Studio Code / Visual Studio / Rider
- **Тип приложения:** Console Application

---

## Теоретическая часть

### Основные структуры циклов в C#

#### 1. Цикл с параметром (for)

Используется, когда заранее известно количество итераций:

```csharp
for (int i = 0; i < n; i++)
{
    // тело цикла
}
```

**Применение:**
- Обход массивов
- Вычисление сумм и произведений с фиксированным числом слагаемых
- Табулирование функций

#### 2. Цикл с предусловием (while)

Проверка условия перед каждой итерацией:

```csharp
while (условие)
{
    // тело цикла
}
```

**Применение:**
- Вычисления с заданной точностью
- Поиск решений методом итераций
- Обработка данных до выполнения условия

#### 3. Цикл с постусловием (do-while)

Тело цикла выполняется хотя бы один раз:

```csharp
do
{
    // тело цикла
}
while (условие);
```

**Применение:**
- Вычисление рядов (первый член всегда вычисляется)
- Меню и интерактивный ввод

### Типовые алгоритмы

#### Вычисление суммы

```csharp
double sum = 0;
for (int i = 1; i <= n; i++)
{
    sum += f(i);
}
```

#### Вычисление произведения

```csharp
int product = 1;
for (int i = 1; i <= n; i++)
{
    product *= i;
}
```

#### Рекуррентные соотношения

Для ускорения вычислений используют связь между соседними членами:

```csharp
double term = 1.0;
for (int i = 1; i <= n; i++)
{
    term *= x / i;  // переход к следующему члену
    sum += term;
}
```

---

## Практическая часть

### Уровень I: Базовые циклы

Этот уровень содержит 18 задач на освоение цикла `for` с фиксированным количеством итераций.

#### Задача 1: Сумма арифметической прогрессии

**Условие:** Вычислить s = 2 + 5 + 8 + ... + 35

**Решение:**

```csharp
int sum = 0;
for (int i = 2; i <= 35; i += 3)
{
    sum += i;
}
Console.WriteLine($"Сумма s = {sum}");
```

**Результат:** s = 185

**Анализ:** Арифметическая прогрессия с первым членом a₁ = 2, разностью d = 3. Количество членов n = 12.

---

#### Задача 2: Гармонический ряд

**Условие:** Вычислить s = 1 + 1/2 + 1/3 + ... + 1/10

**Решение:**

```csharp
double sum = 0;
for (int i = 1; i <= 10; i++)
{
    sum += 1.0 / i;
}
Console.WriteLine($"Сумма s = {sum:f4}");
```

**Результат:** s ≈ 2.9290

---

#### Задача 6: Табулирование функции

**Условие:** Построить таблицу значений функции y = 0.5x² - 7x на отрезке [-4, 4] с шагом 0.5

**Решение:**

```csharp
Console.WriteLine("x\t\ty");
Console.WriteLine("─────────────────");
for (double x = -4.0; x <= 4.0 + 0.0001; x += 0.5)
{
    double y = 0.5 * x * x - 7 * x;
    Console.WriteLine($"{x,6:f1}\t\t{y,8:f2}");
}
```

**Фрагмент результата:**
```
x       y
─────────────────
  -4.0      36.00
  -3.5      27.12
  -3.0      19.50
   ...       ...
   4.0       8.00
```

---

#### Задача 7-8: Факториалы

**Задача 7:** Вычислить 6! = 720

**Задача 8:** Вычислить сумму факториалов s = 1! + 2! + ... + 6! = 873

**Решение с оптимизацией:**

```csharp
int sum = 0;
int factorial = 1;
for (int i = 1; i <= 6; i++)
{
    factorial *= i;
    sum += factorial;
}
```

---

#### Задача 14: Числа Фибоначчи

**Условие:** Напечатать первые 8 чисел Фибоначчи

**Решение:**

```csharp
int fib1 = 1, fib2 = 1;
Console.Write($"{fib1} {fib2} ");
for (int i = 3; i <= 8; i++)
{
    int fibNext = fib1 + fib2;
    Console.Write($"{fibNext} ");
    fib1 = fib2;
    fib2 = fibNext;
}
```

**Результат:** 1 1 2 3 5 8 13 21

---

#### Задача 16: Легенда о шахматной доске

**Условие:** Определить количество зерен на шахматной доске, если на каждую клетку кладется вдвое больше, чем на предыдущую (1, 2, 4, 8, ...). В 1 грамме 15 зерен.

**Решение:**

```csharp
ulong totalGrains = 0;
ulong grainsOnCell = 1;

for (int cell = 1; cell <= 64; cell++)
{
    totalGrains += grainsOnCell;
    grainsOnCell *= 2;
}

double totalGrams = totalGrains / 15.0;
double totalTonnes = totalGrams / 1_000_000.0;

Console.WriteLine($"Всего зерен: {totalGrains:N0}");
Console.WriteLine($"Масса в тоннах: {totalTonnes:E2}");
```

**Результат:**
- Всего зерен: 18 446 744 073 709 551 615
- Масса: 1.23 × 10¹² тонн

**Анализ:** Это классическая задача о геометрической прогрессии. Результат демонстрирует экспоненциальный рост.

---

#### Задача 17: Расстояние до горизонта

**Условие:** Определить расстояние до линии горизонта с высоты 1-10 км. Формула: d = √(2Rh), где R = 6350 км

**Решение:**

```csharp
const double R = 6350.0;
for (int h = 1; h <= 10; h++)
{
    double distance = Math.Sqrt(2 * R * h);
    Console.WriteLine($"{h,6}\t\t{distance,10:f2}");
}
```

**Результат:**
```
Высота (км)    Расстояние (км)
1              112.69
5              252.00
10             356.65
```

---

### Уровень II: Циклы по условию

Этот уровень содержит 10 задач на использование циклов `while` и `do-while`.

#### Задача 1: Сумма ряда с точностью

**Условие:** Вычислить сумму s = cos x + (cos 2x)/2² + (cos 3x)/3² + ..., прекратив суммирование, когда член ряда по модулю < ε = 0.0001

**Решение:**

```csharp
const double eps = 0.0001;
double sum = 0;
int n = 1;
double term;

do
{
    term = Math.Cos(n * x) / (n * n);
    sum += term;
    n++;
}
while (Math.Abs(term) >= eps);

Console.WriteLine($"Сумма s = {sum:f6}");
Console.WriteLine($"Количество членов: {n - 1}");
```

**Результат при x = 1.0:**
- s ≈ 0.452247
- Количество членов: 28

---

#### Задача 4: Геометрическая прогрессия

**Условие:** Вычислить s = 1 + x² + x⁴ + ... для |x| < 1 с точностью ε = 0.0001

**Решение:**

```csharp
double sum = 0;
double term = 1;
int n = 0;

do
{
    sum += term;
    term *= x * x;
    n++;
}
while (term >= eps);

// Проверка по формуле суммы геометрической прогрессии
double exactSum = 1.0 / (1.0 - x * x);
Console.WriteLine($"Вычисленная сумма: {sum:f6}");
Console.WriteLine($"Точное значение: {exactSum:f6}");
Console.WriteLine($"Погрешность: {Math.Abs(sum - exactSum):f6}");
```

**Результат при x = 0.5:**
- Вычисленная сумма: 1.333333
- Точное значение: 1.333333
- Погрешность: 0.000000

---

#### Задача 5: Деление через вычитание

**Условие:** Найти частное и остаток от деления N на M, используя только операцию вычитания

**Решение:**

```csharp
int quotient = 0;
int remainder = Math.Abs(N);
int divisor = Math.Abs(M);

while (remainder >= divisor)
{
    remainder -= divisor;
    quotient++;
}

// Учет знаков
if ((N < 0) ^ (M < 0))
    quotient = -quotient;
if (N < 0)
    remainder = -remainder;

Console.WriteLine($"Частное: {quotient}");
Console.WriteLine($"Остаток: {remainder}");
```

**Результат при N = 25, M = 7:**
- Частное: 3
- Остаток: 4
- Проверка: 7 × 3 + 4 = 25 ✓

---

#### Задача 7: Тренировки спортсмена

**Условие:** Спортсмен начал с 10 км, каждый день увеличивает норму на 10%.

**Подзадачи:**
- а) Суммарный путь за 7 дней
- б) Через сколько дней суммарный путь достигнет 100 км
- в) Через сколько дней дневная норма превысит 20 км

**Решение:**

```csharp
// Подзадача а)
double dailyDistance = 10.0;
double totalDistance = 0;
for (int day = 1; day <= 7; day++)
{
    totalDistance += dailyDistance;
    dailyDistance *= 1.1;
}
Console.WriteLine($"За 7 дней: {totalDistance:f2} км");

// Подзадача б)
dailyDistance = 10.0;
totalDistance = 0;
int days = 0;
while (totalDistance < 100.0)
{
    days++;
    totalDistance += dailyDistance;
    dailyDistance *= 1.1;
}
Console.WriteLine($"100 км за {days} дней");

// Подзадача в)
dailyDistance = 10.0;
days = 0;
while (dailyDistance <= 20.0)
{
    days++;
    dailyDistance *= 1.1;
}
Console.WriteLine($"Больше 20 км на {days}-й день");
```

**Результаты:**
- а) За 7 дней: 94.87 км
- б) Суммарный путь 100 км за 8 дней
- в) Дневная норма > 20 км на 8-й день (22.0 км)

---

#### Задача 8: Вклад в банке

**Условие:** 10 000 рублей под 8% в месяц. Через сколько месяцев сумма удвоится?

**Решение:**

```csharp
double amount = 10000.0;
double targetAmount = 20000.0;
int months = 0;

while (amount < targetAmount)
{
    months++;
    amount *= 1.08;
}

Console.WriteLine($"Сумма удвоится через {months} месяцев");
Console.WriteLine($"Итоговая сумма: {amount:N2} руб.");
```

**Результат:**
- Через 9 месяцев
- Итоговая сумма: 19 990.05 руб. (практически удвоение)

---

### Уровень III: Вложенные циклы

Этот уровень содержит 9 задач на вычисление сумм рядов с табулированием функций.

#### Задача 1: Ряд для cos(x)

**Условие:** Вычислить s = Σ((-1)^i · x^(2i) / (2i)!) для cos(x) на отрезке [0.1, 1.0] с шагом 0.1

**Математика:** Ряд Тейлора для косинуса:
cos(x) = 1 - x²/2! + x⁴/4! - x⁶/6! + ...

**Решение:**

```csharp
for (double x = a; x <= b + 0.0001; x += h)
{
    double s = 1.0;
    double term = 1.0;
    int i = 1;
    
    // Рекуррентное вычисление
    do
    {
        term *= -x * x / ((2 * i - 1) * (2 * i));
        s += term;
        i++;
    }
    while (Math.Abs(term) >= eps);
    
    double y = Math.Cos(x);
    double error = Math.Abs(s - y);
    
    Console.WriteLine($"{x:f2} │ {s:f8} │ {y:f8} │ {error:e2} │ {i}");
}
```

**Фрагмент результата:**
```
   x     │    s (ряд)   │   y = cos(x) │  |s - y|  │  n
───────────────────────────────────────────────────────────
   0.10 │  0.99500417 │  0.99500417 │ 3.33e-16 │   3
   0.50 │  0.87758256 │  0.87758256 │ 0.00e+00 │   6
   1.00 │  0.54030231 │  0.54030231 │ 2.22e-16 │   9
```

**Анализ:** Ряд быстро сходится. Для x = 1.0 достаточно 9 членов ряда для точности 10⁻⁴.

---

#### Задача 8: Ряд для e^x

**Условие:** Вычислить s = Σ(x^i / i!) для e^x на отрезке [0.1, 1.0] с шагом 0.05

**Математика:** Ряд Тейлора для экспоненты:
e^x = 1 + x + x²/2! + x³/3! + ...

**Решение:**

```csharp
for (double x = a; x <= b + 0.0001; x += h)
{
    double s = 1.0;
    double term = 1.0;
    int i = 1;
    
    do
    {
        term *= x / i;
        s += term;
        i++;
    }
    while (Math.Abs(term) >= eps);
    
    double y = Math.Exp(x);
    double error = Math.Abs(s - y);
    
    Console.WriteLine($"{x:f2} │ {s:f8} │ {y:f8} │ {error:e2} │ {i}");
}
```

**Фрагмент результата:**
```
   x     │    s (ряд)   │   y = e^x    │  |s - y|  │  n
───────────────────────────────────────────────────────────
   0.10 │  1.10517092 │  1.10517092 │ 0.00e+00 │   5
   0.50 │  1.64872127 │  1.64872127 │ 0.00e+00 │   9
   1.00 │  2.71828183 │  2.71828183 │ 0.00e+00 │  12
```

---

#### Задача 9: Ряд для arctg(x)

**Условие:** Вычислить s = Σ((-1)^i · x^(2i+1) / (2i+1)) для arctg(x) на отрезке [0.1, 0.5] с шагом 0.05

**Математика:** Ряд Тейлора для арктангенса:
arctg(x) = x - x³/3 + x⁵/5 - x⁷/7 + ...

**Решение:**

```csharp
for (double x = a; x <= b + 0.0001; x += h)
{
    double s = x;
    double term = x;
    int i = 1;
    
    do
    {
        term *= -x * x * (2 * i - 1) / (2 * i + 1);
        s += term;
        i++;
    }
    while (Math.Abs(term) >= eps);
    
    double y = Math.Atan(x);
    double error = Math.Abs(s - y);
    
    Console.WriteLine($"{x:f2} │ {s:f8} │ {y:f8} │ {error:e2} │ {i}");
}
```

**Результат:**
```
   x     │    s (ряд)   │ y = arctg(x) │  |s - y|  │  n
───────────────────────────────────────────────────────────
   0.10 │  0.09966865 │  0.09966865 │ 0.00e+00 │   3
   0.30 │  0.29145679 │  0.29145679 │ 0.00e+00 │   6
   0.50 │  0.46364761 │  0.46364761 │ 0.00e+00 │   9
```

---

## Контрольные вопросы

### 1. Что такое цикл? Операторы цикла for, while, do-while. Различия между ними.

**Ответ:** Цикл - это управляющая структура, позволяющая многократно выполнять блок кода.

- **for** - цикл с параметром, используется при известном числе итераций
- **while** - цикл с предусловием, тело может не выполниться ни разу
- **do-while** - цикл с постусловием, тело выполняется минимум один раз

**Различия:**
1. Проверка условия: в начале (while, for) или в конце (do-while)
2. Гарантия выполнения: do-while всегда выполняется хотя бы раз
3. Явное управление счетчиком в for

### 2. Какие данные необходимы для организации цикла for?

**Ответ:**
- Начальное значение управляющей переменной
- Условие продолжения цикла
- Шаг изменения управляющей переменной

Пример: `for (int i = 0; i < n; i++)`

### 3. Циклы по условию и их организация

**Ответ:** Циклы по условию (`while`, `do-while`) используются, когда:
- Количество итераций заранее неизвестно
- Условие выхода зависит от вычислений внутри цикла
- Нужна определенная точность вычислений

Примеры применения:
- Вычисление рядов с заданной точностью
- Итерационные методы
- Обработка данных до выполнения условия

### 4. Операторы break и continue

**Ответ:**
- **break** - немедленный выход из цикла
- **continue** - переход к следующей итерации, пропуская остаток тела цикла

Используются для:
- Досрочного завершения цикла при особых условиях
- Пропуска обработки некоторых элементов

### 5. Типовые алгоритмы циклической структуры

**Ответ:**
1. **Вычисление суммы n слагаемых:**
   ```csharp
   for (int i = 1; i <= n; i++)
       sum += a[i];
   ```

2. **Вычисление произведения:**
   ```csharp
   int product = 1;
   for (int i = 1; i <= n; i++)
       product *= i;
   ```

3. **Факториал:**
   ```csharp
   int factorial = 1;
   for (int i = 2; i <= n; i++)
       factorial *= i;
   ```

4. **Табулирование функции:**
   ```csharp
   for (double x = a; x <= b; x += h)
       Console.WriteLine($"{x}\t{f(x)}");
   ```

### 6. Вычисление суммы с использованием рекуррентных соотношений

**Ответ:** Рекуррентные соотношения позволяют вычислять следующий член ряда через предыдущий, что значительно эффективнее прямого вычисления.

**Пример:** Ряд e^x = Σ(x^i / i!)

Вместо: `term = Math.Pow(x, i) / factorial(i);`

Используем: `term *= x / i;`

**Преимущества:**
- Меньше операций
- Выше точность (меньше округлений)
- Быстрее выполнение

### 7. Вложенные циклы

**Ответ:** Вложенные циклы - это циклы внутри других циклов.

**Применение:**
- Обработка двумерных массивов (матриц)
- Табулирование функций с вычислением рядов
- Генерация комбинаций

**Пример:**
```csharp
// Внешний цикл по значениям x
for (double x = a; x <= b; x += h)
{
    double sum = 0;
    // Внутренний цикл - вычисление ряда
    for (int i = 0; i < n; i++)
    {
        sum += term(x, i);
    }
    Console.WriteLine($"{x}\t{sum}");
}
```

**Особенности:**
- Внутренний цикл выполняется полностью для каждой итерации внешнего
- Сложность O(n·m) для двух вложенных циклов
- Важна правильная инициализация переменных на каждой итерации внешнего цикла

---

## Выводы

### Освоенные навыки

В ходе выполнения лабораторной работы были освоены следующие навыки:

1. **Работа с циклами:**
   - Использование цикла `for` для задач с фиксированным числом итераций
   - Применение `while` и `do-while` для условных вычислений
   - Организация вложенных циклов

2. **Алгоритмы вычислений:**
   - Вычисление сумм арифметических и геометрических прогрессий
   - Работа с факториалами и произведениями
   - Вычисление значений функций методом рядов
   - Табулирование функций

3. **Программирование на C#:**
   - Работа с типами данных `int`, `double`, `ulong`
   - Использование класса `Math` для математических функций
   - Форматирование вывода чисел
   - Обработка точности вычислений

4. **Численные методы:**
   - Применение рекуррентных соотношений
   - Контроль точности вычислений
   - Сравнение приближенных и точных значений
   - Оценка погрешности

### Трудности и их решение

1. **Точность вещественных вычислений:**
   - Проблема: ошибки округления при сравнении вещественных чисел
   - Решение: добавление малой поправки `0.0001` при сравнении

2. **Переполнение при больших числах:**
   - Проблема: переполнение `int` в задаче о шахматной доске
   - Решение: использование типа `ulong` (64-битное беззнаковое целое)

3. **Сходимость рядов:**
   - Проблема: медленная сходимость некоторых рядов
   - Решение: использование рекуррентных формул для ускорения вычислений

### Достигнутые результаты

1. **Реализовано 37 задач:**
   - 18 задач уровня I (базовые циклы)
   - 10 задач уровня II (циклы по условию)
   - 9 задач уровня III (вложенные циклы и ряды)

2. **Структура проекта:**
   - Создано 3 консольных приложения C#
   - Каждая задача реализована как отдельный модуль
   - Организован удобный интерфейс с меню выбора задач

3. **Качество кода:**
   - Соблюдены стандарты C# (naming conventions)
   - Добавлены комментарии и XML-документация
   - Реализована обработка ошибок ввода

### Практическая значимость

Освоенные в работе алгоритмы и методы являются фундаментальными для программирования и находят применение в:

- Научных вычислениях
- Финансовых расчетах
- Обработке данных
- Численном моделировании
- Разработке алгоритмов машинного обучения

### Заключение

Лабораторная работа успешно выполнена. Все поставленные задачи решены, программы протестированы и работают корректно. Получены практические навыки разработки циклических алгоритмов на C#, которые являются основой для дальнейшего изучения программирования и численных методов.

---

## Приложение: Структура проекта

```
lab01_csharp/
├── README.md                          # Данный файл с полным описанием работы
├── WORD_REPORT_CONTENT.md             # Содержание для Word отчета
├── Lab01_Report_Kiryushin.docx        # Готовый отчет в формате DOCX
├── Level01/                           # Уровень I: Базовые циклы
│   ├── Level1.csproj
│   ├── Program.cs
│   └── Task01.cs ... Task18.cs
├── Level02/                           # Уровень II: Циклы по условию
│   ├── Level2.csproj
│   ├── Program.cs
│   └── Task01.cs ... Task10.cs
└── Level03/                           # Уровень III: Вложенные циклы
    ├── Level3.csproj
    ├── Program.cs
    └── Task01.cs ... Task09.cs
```

---

## Документация

- **README.md** - подробное описание всех задач с теорией и решениями
- **Lab01_Report_Kiryushin.docx** - официальный отчет по лабораторной работе
- **WORD_REPORT_CONTENT.md** - исходное содержание для создания отчета

---

**Дата завершения:** 15 февраля 2026
